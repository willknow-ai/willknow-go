# Willknow

ğŸ¤– AI-powered debugging and diagnostics library for Go applications.

## é¡¹ç›®åŠ¨æœº

åœ¨ AI æ—¶ä»£ï¼Œç¨‹åºå‡ºç°é—®é¢˜æ—¶ä¸åº”è¯¥è¿˜éœ€è¦äººå·¥å»æ’æŸ¥ã€‚Willknow è®©ä½ çš„ç¨‹åºè‡ªå¸¦ AI åŠ©æ‰‹ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥å‘ AI å’¨è¯¢ç¨‹åºé—®é¢˜ï¼ŒAI ä¼šè‡ªåŠ¨åˆ†æä»£ç å’Œæ—¥å¿—ï¼Œå¿«é€Ÿå®šä½é—®é¢˜åŸå› ã€‚

## ç‰¹æ€§

- âœ… **é›¶é…ç½®é›†æˆ**ï¼šåªéœ€å‡ è¡Œä»£ç å³å¯ä¸ºä½ çš„ Go ç¨‹åºæ·»åŠ  AI åŠ©æ‰‹
- âœ… **å¤šæ¨¡å‹æ”¯æŒ**ï¼šæ”¯æŒ 15+ AI æ¨¡å‹ï¼ˆClaude, DeepSeek, Qwen, Moonshot, GLM ç­‰ï¼‰
- âœ… **æ™ºèƒ½è¯Šæ–­**ï¼šAI å¯ä»¥è¯»å–æºä»£ç å’Œæ—¥å¿—æ–‡ä»¶ï¼Œè‡ªåŠ¨åˆ†æé—®é¢˜
- âœ… **ä»£ç ç´¢å¼•**ï¼šè‡ªåŠ¨ç”Ÿæˆä»£ç æ‘˜è¦ç´¢å¼•ï¼Œæ”¯æŒè¯­ä¹‰æœç´¢ä»£ç æ–‡ä»¶
- âœ… **Web ç•Œé¢**ï¼šä¼˜ç¾çš„èŠå¤©ç•Œé¢ï¼Œæ”¯æŒå®æ—¶å¯¹è¯
- âœ… **å®¹å™¨åŒ–ä¼˜å…ˆ**ï¼šä¸º Docker/Kubernetes éƒ¨ç½²ä¼˜åŒ–
- âœ… **æ”¯æŒå¤šç§æ—¥å¿—æ ¼å¼**ï¼šè‡ªåŠ¨è¯†åˆ«æ–‡æœ¬æ—¥å¿—å’Œ JSON æ—¥å¿—
- âœ… **è‡ªå®šä¹‰æ¨¡å‹**ï¼šæ”¯æŒå…¬å¸å†…éƒ¨éƒ¨ç½²çš„ OpenAI Compatible æ¨¡å‹

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

```bash
go get github.com/willknow-ai/willknow-go
```

### 2. é›†æˆåˆ°ä½ çš„ç¨‹åº

```go
package main

import (
    "net/http"
    "os"

    aiassistant "github.com/willknow-ai/willknow-go"
)

func main() {
    // å¯åŠ¨ AI åŠ©æ‰‹ï¼ˆç‹¬ç«‹ goroutineï¼‰
    go func() {
        assistant, err := aiassistant.New(aiassistant.Config{
            SourcePath: "/app/source",              // æºç è·¯å¾„
            LogFiles:   []string{"/var/log/app.log"}, // å¯é€‰ï¼Œç•™ç©ºè‡ªåŠ¨æ£€æµ‹
            Port:       8888,                       // AI åŠ©æ‰‹ç«¯å£
            Provider:   "anthropic",                // æˆ– "deepseek"
            APIKey:     os.Getenv("AI_API_KEY"),
        })

        if err != nil {
            panic(err)
        }

        assistant.Start()
    }()

    // ä½ çš„æ­£å¸¸ä¸šåŠ¡ä»£ç 
    http.HandleFunc("/", handler)
    http.ListenAndServe(":8080", nil)
}
```

### 3. åˆ›å»º Dockerfile

```dockerfile
FROM golang:1.21 AS builder
WORKDIR /src
COPY . .
RUN go build -o /app/myapp

FROM alpine:latest
WORKDIR /app
COPY --from=builder /app/myapp .
COPY --from=builder /src /app/source  # å¤åˆ¶æºç ä¾› AI åˆ†æ
RUN mkdir -p /var/log
CMD ["./myapp"]
```

### 4. è¿è¡Œ

```bash
# æ„å»ºé•œåƒ
docker build -t myapp .

# è¿è¡Œå®¹å™¨ï¼ˆéœ€è¦ AI API Keyï¼‰
docker run -p 8080:8080 -p 8888:8888 \
  -e AI_API_KEY=your-api-key \
  -e AI_PROVIDER=anthropic \
  myapp
```

### 5. ä½¿ç”¨ AI åŠ©æ‰‹

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8888`
2. å½“ç¨‹åºå‡ºé”™æ—¶ï¼Œå¤åˆ¶ RequestID
3. åœ¨ AI åŠ©æ‰‹ä¸­è¾“å…¥ï¼š"RequestID xxx å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ"
4. AI ä¼šè‡ªåŠ¨æŸ¥çœ‹æ—¥å¿—å’Œä»£ç ï¼Œç»™å‡ºè¯Šæ–­ç»“æœ

## ç¤ºä¾‹ç¨‹åº

é¡¹ç›®åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ç¨‹åºï¼š

```bash
cd examples

# æœ¬åœ°è¿è¡Œï¼ˆéœ€è¦è®¾ç½® AI_API_KEYï¼‰
export AI_API_KEY=your-key
export AI_PROVIDER=anthropic  # æˆ– deepseek
go run main.go

# æˆ–ä½¿ç”¨ Docker
docker build -t ai-assistant-demo .
docker run -p 8080:8080 -p 8888:8888 \
  -e AI_API_KEY=your-key \
  -e AI_PROVIDER=anthropic \
  ai-assistant-demo
```

è®¿é—®ï¼š
- ä¸»ç¨‹åºï¼šhttp://localhost:8080
- AI åŠ©æ‰‹ï¼šhttp://localhost:8888

## å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Docker å®¹å™¨                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä½ çš„ç¨‹åº      â”‚      â”‚ AI åŠ©æ‰‹åº“        â”‚ â”‚
â”‚  â”‚              â”‚      â”‚                 â”‚ â”‚
â”‚  â”‚ æ‰“å°æ—¥å¿— â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â†’â”‚ /var/log/       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                 â”‚ â”‚
â”‚                        â”‚ Web UI :8888    â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ æºç           â”‚â†â”€â”€â”€â”€â”€â”¼â”€â”‚ ä»£ç åˆ†æ     â”‚ â”‚ â”‚
â”‚  â”‚ /app/source/ â”‚      â”‚ â”‚ æ—¥å¿—æŸ¥è¯¢     â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

AI åŠ©æ‰‹æä¾›çš„å·¥å…·ï¼š
- `search_code_index`ï¼šè¯­ä¹‰æœç´¢ä»£ç æ–‡ä»¶ï¼ˆåŸºäº LLM ç”Ÿæˆçš„æ‘˜è¦ï¼‰
- `read_file`ï¼šè¯»å–æºä»£ç æ–‡ä»¶
- `grep`ï¼šæœç´¢ä»£ç å†…å®¹
- `glob`ï¼šæŸ¥æ‰¾æ–‡ä»¶
- `read_logs`ï¼šæ ¹æ® RequestID æˆ–å…³é”®è¯æŸ¥è¯¢æ—¥å¿—

## æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æµè§ˆå™¨                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Web UI (HTML/JS) - localhost:8888              â”‚   â”‚
â”‚  â”‚  - èŠå¤©ç•Œé¢                                      â”‚   â”‚
â”‚  â”‚  - WebSocket è¿æ¥                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ WebSocket
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              AI Assistant (Go Server)                   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  server.go - HTTP/WebSocket Server               â”‚  â”‚
â”‚  â”‚  - å¤„ç† WebSocket è¿æ¥                            â”‚  â”‚
â”‚  â”‚  - ç®¡ç†ä¼šè¯çŠ¶æ€                                   â”‚  â”‚
â”‚  â”‚  - åè°ƒ AI å¯¹è¯æµç¨‹                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  provider (AI æœåŠ¡å•†å±‚)                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ Anthropic Provider (Claude)                  â”‚  â”‚
â”‚  â”‚  â””â”€ OpenAI Compatible Provider (15+ æ¨¡å‹)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  tools (å·¥å…·å±‚)                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ read_file  (è¯»å–æºç )                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ grep       (æœç´¢ä»£ç )                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ glob       (æŸ¥æ‰¾æ–‡ä»¶)                        â”‚  â”‚
â”‚  â”‚  â””â”€ read_logs  (æŸ¥è¯¢æ—¥å¿—)                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç”¨æˆ·è¯¢é—®å¤„ç†æµç¨‹

ä»¥ "RequestID abc123 å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ" ä¸ºä¾‹ï¼š

#### 1. å‰ç«¯å‘é€æ¶ˆæ¯
```javascript
// æµè§ˆå™¨é€šè¿‡ WebSocket å‘é€ç”¨æˆ·æ¶ˆæ¯
ws.send(JSON.stringify({
    content: "RequestID abc123 å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ"
}));
```

#### 2. åç«¯æ¥æ”¶å¹¶åˆ›å»ºä¼šè¯
```go
// server.go: æ¥æ”¶æ¶ˆæ¯ï¼Œæ·»åŠ åˆ°ä¼šè¯å†å²
session.messages = append(session.messages, provider.Message{
    Role: "user",
    Content: []provider.ContentBlock{
        {Type: "text", Text: "RequestID abc123 å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ"},
    },
})
```

#### 3. å¤šè½®å¯¹è¯å¾ªç¯

```go
// å…è®¸æœ€å¤š 10 è½®å·¥å…·è°ƒç”¨
for turn := 0; turn < 10; turn++ {
    // è°ƒç”¨ AI Provider
    response := provider.SendMessage(
        session.messages,  // å®Œæ•´å¯¹è¯å†å²
        tools,             // å¯ç”¨å·¥å…·åˆ—è¡¨
        systemPrompt,      // ç³»ç»Ÿæç¤ºè¯
    )

    // å¤„ç†å“åº”
    if response.Type == "text" {
        // å‘é€æ–‡å­—å›å¤ç»™å‰ç«¯
        conn.WriteJSON(response.Text)
    } else if response.Type == "tool_use" {
        // AI å†³å®šä½¿ç”¨å·¥å…·
        result := toolRegistry.Execute(response.ToolName, response.Params)
        // å°†å·¥å…·ç»“æœæ·»åŠ åˆ°ä¼šè¯ï¼Œç»§ç»­ä¸‹ä¸€è½®
    }
}
```

#### 4. å®é™…æ‰§è¡Œç¤ºä¾‹

```
ğŸ‘¤ ç”¨æˆ·: "RequestID abc123 å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ"

ğŸ¤– Turn 1: AI å†³å®šä½¿ç”¨ read_logs(query="abc123")
ğŸ”§ å·¥å…·æ‰§è¡Œ: è¿”å›ç›¸å…³æ—¥å¿—
   [ERROR] Database connection timeout

ğŸ¤– Turn 2: AI åŸºäºæ—¥å¿—å†³å®šä½¿ç”¨ read_file("main.go", 180-200)
ğŸ”§ å·¥å…·æ‰§è¡Œ: è¿”å›æºç ç‰‡æ®µ

ğŸ¤– Turn 3: AI åˆ†æå®Œæˆï¼Œè¿”å›è¯Šæ–­ç»“æœ
ğŸ“¨ "å‘ç°é—®é¢˜åœ¨ main.go:188ï¼Œæ•°æ®åº“è¿æ¥è¶…æ—¶..."

âœ… å‰ç«¯æ˜¾ç¤ºå®Œæ•´å›å¤
```

### æ ¸å¿ƒç»„ä»¶

#### 1. Provider æŠ½è±¡å±‚
```go
type Provider interface {
    SendMessage(messages, tools, system) (*Response, error)
}
```
- **Anthropic Provider**: Claude ä¸“ç”¨ API æ ¼å¼
- **OpenAI Compatible Provider**: æ”¯æŒ 15+ æ¨¡å‹ï¼ˆDeepSeek, Qwen, GLM ç­‰ï¼‰
- æ ¼å¼è‡ªåŠ¨è½¬æ¢ï¼Œç”¨æˆ·æ— æ„ŸçŸ¥åˆ‡æ¢

#### 2. å·¥å…·æ³¨å†Œç³»ç»Ÿ
```go
type Registry struct {
    tools map[string]ToolExecutor
}
```
- åŠ¨æ€å·¥å…·æ³¨å†Œ
- ç»Ÿä¸€æ‰§è¡Œæ¥å£
- AI è‡ªä¸»å†³å®šå·¥å…·è°ƒç”¨é¡ºåº

#### 3. ä¼šè¯ç®¡ç†
```go
type Session struct {
    messages []provider.Message  // å®Œæ•´å¯¹è¯å†å²
    mu       sync.Mutex          // å¹¶å‘å®‰å…¨
}
```
- æ¯ä¸ª WebSocket è¿æ¥ç‹¬ç«‹ä¼šè¯
- å®Œæ•´ä¿å­˜å¯¹è¯å†å²
- æ”¯æŒä¸Šä¸‹æ–‡ç†è§£

### æ•°æ®æµå‘

```
ç”¨æˆ·è¾“å…¥
  â†“
WebSocket æ¥æ”¶
  â†“
æ·»åŠ åˆ°ä¼šè¯å†å²
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å¤šè½®å¯¹è¯å¾ªç¯                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. å‘é€å†å² + å·¥å…·å®šä¹‰ â†’ AI  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â†“                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2. AI è¿”å›ï¼šæ–‡å­— or å·¥å…·è°ƒç”¨ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â†“                      â”‚
â”‚         æ–‡å­—?    å·¥å…·è°ƒç”¨?           â”‚
â”‚          â†“           â†“              â”‚
â”‚    å‘é€ç»™å‰ç«¯    æ‰§è¡Œå·¥å…·            â”‚
â”‚                      â†“              â”‚
â”‚              æ·»åŠ ç»“æœåˆ°å†å²           â”‚
â”‚                      â†“              â”‚
â”‚              ç»§ç»­ä¸‹ä¸€è½® â”€â”€â”          â”‚
â”‚                          â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
å‘é€ "done" ä¿¡å·
```

### å…³é”®è®¾è®¡ç‰¹ç‚¹

1. **AI è‡ªä¸»å†³ç­–**
   - AI è‡ªä¸»å†³å®šä½¿ç”¨å“ªäº›å·¥å…·
   - AI å†³å®šè°ƒç”¨æ¬¡æ•°å’Œé¡ºåº
   - AI å†³å®šä½•æ—¶ç»“æŸå¯¹è¯

2. **å·¥å…·ç»„åˆèƒ½åŠ›**
   - å¯ä»¥ç»„åˆå¤šä¸ªå·¥å…·è§£å†³å¤æ‚é—®é¢˜
   - å…ˆæŸ¥æ—¥å¿—ï¼Œå†è¯»æºç ï¼Œæœ€ååˆ†æ
   - æ¯ä¸ªå·¥å…·çš„è¾“å‡ºå¯ä»¥ä½œä¸ºä¸‹ä¸€ä¸ªå·¥å…·çš„è¾“å…¥

3. **æµå¼ç”¨æˆ·ä½“éªŒ**
   - å®æ—¶æ¨é€ AI æ€è€ƒè¿‡ç¨‹
   - WebSocket ä¿æŒé•¿è¿æ¥
   - å³æ—¶æ˜¾ç¤ºæ–‡å­—å›å¤

4. **æ¨¡å‹æ— å…³è®¾è®¡**
   - ç»Ÿä¸€çš„ Provider æ¥å£
   - æ”¯æŒ Anthropic å’Œ 15+ OpenAI Compatible æ¨¡å‹
   - è½»æ¾æ‰©å±•æ–°æ¨¡å‹

5. **çŠ¶æ€ç®¡ç†**
   - å®Œæ•´ä¿å­˜å¯¹è¯å†å²
   - æ”¯æŒä¸Šä¸‹æ–‡ç†è§£
   - å¹¶å‘å®‰å…¨çš„ä¼šè¯ç®¡ç†

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Willknow èƒ½å¤Ÿæ™ºèƒ½åœ°åˆ†æä»£ç å’Œæ—¥å¿—ï¼Œè€Œä¸éœ€è¦äººå·¥ç¼–å†™å¤æ‚çš„è¯Šæ–­é€»è¾‘ï¼

## é…ç½®é€‰é¡¹

```go
type Config struct {
    // æºç è·¯å¾„ï¼ˆå®¹å™¨å†…ï¼‰
    // é»˜è®¤ï¼š/app/source
    SourcePath string

    // æ—¥å¿—æ–‡ä»¶è·¯å¾„
    // ç•™ç©ºä¼šåœ¨å¯åŠ¨æ—¶è®© AI è‡ªåŠ¨åˆ†æä»£ç æ‰¾åˆ°æ—¥å¿—æ–‡ä»¶
    LogFiles []string

    // AI åŠ©æ‰‹ Web UI ç«¯å£
    // é»˜è®¤ï¼š8888
    Port int

    // AI æä¾›å•†
    // æ”¯æŒï¼šanthropic, openai, deepseek, qwen, moonshot, glm, xai,
    //       minimax, baichuan, 01ai, groq, together, siliconflow, custom
    // é»˜è®¤ï¼šanthropic
    Provider string

    // AI API Keyï¼ˆå¿…å¡«ï¼‰
    APIKey string

    // AI æ¨¡å‹ï¼ˆå¯é€‰ï¼‰
    // ç•™ç©ºä½¿ç”¨æä¾›å•†çš„é»˜è®¤æ¨¡å‹
    Model string

    // è‡ªå®šä¹‰ API Endpointï¼ˆå¯é€‰ï¼‰
    // ç”¨äºå…¬å¸å†…éƒ¨éƒ¨ç½²çš„æ¨¡å‹æˆ–ä»£ç†
    // Provider="custom" æ—¶å¿…å¡«
    BaseURL string
}
```

### ä½¿ç”¨ç¤ºä¾‹

**ä½¿ç”¨ DeepSeek:**
```go
assistant, _ := aiassistant.New(aiassistant.Config{
    Provider: "deepseek",
    APIKey:   os.Getenv("DEEPSEEK_API_KEY"),
})
```

**ä½¿ç”¨é€šä¹‰åƒé—®:**
```go
assistant, _ := aiassistant.New(aiassistant.Config{
    Provider: "qwen",
    APIKey:   os.Getenv("QWEN_API_KEY"),
})
```

**ä½¿ç”¨å…¬å¸å†…éƒ¨æ¨¡å‹:**
```go
assistant, _ := aiassistant.New(aiassistant.Config{
    Provider: "custom",
    BaseURL:  "http://internal-llm.company.com/v1",
    APIKey:   "internal-key",
    Model:    "company-model-v1",
})
```

## æœ€ä½³å®è·µ

1. **æ—¥å¿—æ ¼å¼**ï¼šç¡®ä¿æ—¥å¿—åŒ…å« RequestIDï¼Œæ–¹ä¾¿è¿½è¸ª
2. **æºç ä½ç½®**ï¼šåœ¨ Dockerfile ä¸­å¤åˆ¶æºç åˆ° `/app/source`
3. **API Key å®‰å…¨**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’ï¼Œä¸è¦ç¡¬ç¼–ç 
4. **ä»…å¼€å‘/æµ‹è¯•ç¯å¢ƒ**ï¼šMVP ç‰ˆæœ¬æ— è®¤è¯ï¼Œä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨

## å¸¸è§é—®é¢˜

**Q: AI åŠ©æ‰‹æ‰¾ä¸åˆ°æ—¥å¿—æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ**

A: æ‰‹åŠ¨æŒ‡å®š `LogFiles` é…ç½®é¡¹ï¼Œæˆ–åœ¨ä»£ç ä¸­æ˜ç¡®é…ç½®æ—¥å¿—è·¯å¾„ã€‚

**Q: æ”¯æŒå“ªäº›æ—¥å¿—æ ¼å¼ï¼Ÿ**

A: æ”¯æŒæ–‡æœ¬æ—¥å¿—å’Œ JSON æ—¥å¿—ï¼ŒAI ä¼šè‡ªåŠ¨è¯†åˆ«å’Œè§£æã€‚

**Q: å¦‚ä½•åœ¨ Kubernetes ä¸­ä½¿ç”¨ï¼Ÿ**

A: ç¡®ä¿åœ¨ Deployment ä¸­æš´éœ² 8888 ç«¯å£ï¼Œå¹¶é€šè¿‡ Secret ä¼ é€’ API Keyã€‚

**Q: ä¼šæš´éœ²æºä»£ç å—ï¼Ÿ**

A: MVP ç‰ˆæœ¬æ— è®¤è¯ï¼Œåªå»ºè®®åœ¨å¼€å‘/æµ‹è¯•ç¯å¢ƒä½¿ç”¨ã€‚ç”Ÿäº§ç¯å¢ƒéœ€è¦é¢å¤–çš„å®‰å…¨æ§åˆ¶ã€‚

## æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šGo 1.21+
- **AI æ¨¡å‹**ï¼š
  - Anthropic Claude (ç‹¬ç«‹å®ç°)
  - OpenAI Compatible (15+ æ¨¡å‹)
    - DeepSeek, é€šä¹‰åƒé—®, æ™ºè°± GLM, Moonshot, XAI Grok ç­‰
    - æ”¯æŒè‡ªå®šä¹‰å†…éƒ¨æ¨¡å‹
- **WebSocket**ï¼šgorilla/websocket
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JavaScript

## è·¯çº¿å›¾

MVP (å½“å‰ç‰ˆæœ¬):
- âœ… åŸºç¡€ AI å¯¹è¯åŠŸèƒ½
- âœ… ä»£ç å’Œæ—¥å¿—åˆ†æ
- âœ… ç®€å• Web UI
- âœ… è®¤è¯å’Œæƒé™æ§åˆ¶
- âœ… å†…ç½®ä»£ç ç´¢å¼•ï¼ˆåŸºäº LLM ç”Ÿæˆçš„æ–‡ä»¶æ‘˜è¦ï¼‰

æœªæ¥è®¡åˆ’:
- [ ] å¤–éƒ¨å‘é‡æ•°æ®åº“é›†æˆï¼ˆWeaviate + Embedding API å®ç°è¯­ä¹‰æœç´¢ï¼‰
- [ ] æ”¯æŒæ›´å¤šè¯­è¨€ï¼ˆPython, Node.js ç­‰ï¼‰
- [ ] æ›´å¼ºå¤§çš„å‰ç«¯ç•Œé¢

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## è‡´è°¢

æœ¬é¡¹ç›®çµæ„Ÿæ¥æºäº Claude Code å’Œç°ä»£ AI è¾…åŠ©å¼€å‘å·¥å…·ã€‚
