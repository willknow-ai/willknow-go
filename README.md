# Willknow

ğŸ¤– AI-powered debugging and diagnostics library for Go applications.

## é¡¹ç›®åŠ¨æœº

åœ¨ AI æ—¶ä»£ï¼Œç¨‹åºå‡ºç°é—®é¢˜æ—¶ä¸åº”è¯¥è¿˜éœ€è¦äººå·¥å»æ’æŸ¥ã€‚Willknow è®©ä½ çš„ç¨‹åºè‡ªå¸¦ AI åŠ©æ‰‹ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥å‘ AI å’¨è¯¢ç¨‹åºé—®é¢˜ï¼ŒAI ä¼šè‡ªåŠ¨åˆ†æä»£ç å’Œæ—¥å¿—ï¼Œå¿«é€Ÿå®šä½é—®é¢˜åŸå› ã€‚

## ç‰¹æ€§

- âœ… **é›¶é…ç½®é›†æˆ**ï¼šåªéœ€å‡ è¡Œä»£ç å³å¯ä¸ºä½ çš„ Go ç¨‹åºæ·»åŠ  AI åŠ©æ‰‹
- âœ… **æ™ºèƒ½è¯Šæ–­**ï¼šAI å¯ä»¥è¯»å–æºä»£ç å’Œæ—¥å¿—æ–‡ä»¶ï¼Œè‡ªåŠ¨åˆ†æé—®é¢˜
- âœ… **Web ç•Œé¢**ï¼šä¼˜ç¾çš„èŠå¤©ç•Œé¢ï¼Œæ”¯æŒå®æ—¶å¯¹è¯
- âœ… **å®¹å™¨åŒ–ä¼˜å…ˆ**ï¼šä¸º Docker/Kubernetes éƒ¨ç½²ä¼˜åŒ–
- âœ… **æ”¯æŒå¤šç§æ—¥å¿—æ ¼å¼**ï¼šè‡ªåŠ¨è¯†åˆ«æ–‡æœ¬æ—¥å¿—å’Œ JSON æ—¥å¿—

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…

```bash
go get github.com/willknow-ai/willknow-go
```

### 2. é›†æˆåˆ°ä½ çš„ç¨‹åº

```go
package main

import (
    "net/http"
    "os"

    aiassistant "github.com/willknow-ai/willknow-go"
)

func main() {
    // å¯åŠ¨ AI åŠ©æ‰‹ï¼ˆç‹¬ç«‹ goroutineï¼‰
    go func() {
        assistant, err := aiassistant.New(aiassistant.Config{
            SourcePath:   "/app/source",              // æºç è·¯å¾„
            LogFiles:     []string{"/var/log/app.log"}, // å¯é€‰ï¼Œç•™ç©ºè‡ªåŠ¨æ£€æµ‹
            Port:         8888,                       // AI åŠ©æ‰‹ç«¯å£
            ClaudeAPIKey: os.Getenv("CLAUDE_API_KEY"),
        })

        if err != nil {
            panic(err)
        }

        assistant.Start()
    }()

    // ä½ çš„æ­£å¸¸ä¸šåŠ¡ä»£ç 
    http.HandleFunc("/", handler)
    http.ListenAndServe(":8080", nil)
}
```

### 3. åˆ›å»º Dockerfile

```dockerfile
FROM golang:1.21 AS builder
WORKDIR /src
COPY . .
RUN go build -o /app/myapp

FROM alpine:latest
WORKDIR /app
COPY --from=builder /app/myapp .
COPY --from=builder /src /app/source  # å¤åˆ¶æºç ä¾› AI åˆ†æ
RUN mkdir -p /var/log
CMD ["./myapp"]
```

### 4. è¿è¡Œ

```bash
# æ„å»ºé•œåƒ
docker build -t myapp .

# è¿è¡Œå®¹å™¨ï¼ˆéœ€è¦ Claude API Keyï¼‰
docker run -p 8080:8080 -p 8888:8888 \
  -e CLAUDE_API_KEY=your-api-key \
  myapp
```

### 5. ä½¿ç”¨ AI åŠ©æ‰‹

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:8888`
2. å½“ç¨‹åºå‡ºé”™æ—¶ï¼Œå¤åˆ¶ RequestID
3. åœ¨ AI åŠ©æ‰‹ä¸­è¾“å…¥ï¼š"RequestID xxx å‡ºé”™äº†ï¼Œå¸®æˆ‘åˆ†æ"
4. AI ä¼šè‡ªåŠ¨æŸ¥çœ‹æ—¥å¿—å’Œä»£ç ï¼Œç»™å‡ºè¯Šæ–­ç»“æœ

## ç¤ºä¾‹ç¨‹åº

é¡¹ç›®åŒ…å«ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ç¨‹åºï¼š

```bash
cd examples

# æœ¬åœ°è¿è¡Œï¼ˆéœ€è¦è®¾ç½® CLAUDE_API_KEYï¼‰
export CLAUDE_API_KEY=your-key
go run main.go

# æˆ–ä½¿ç”¨ Docker
docker build -t ai-assistant-demo .
docker run -p 8080:8080 -p 8888:8888 -e CLAUDE_API_KEY=your-key ai-assistant-demo
```

è®¿é—®ï¼š
- ä¸»ç¨‹åºï¼šhttp://localhost:8080
- AI åŠ©æ‰‹ï¼šhttp://localhost:8888

## å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Docker å®¹å™¨                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä½ çš„ç¨‹åº      â”‚      â”‚ AI åŠ©æ‰‹åº“        â”‚ â”‚
â”‚  â”‚              â”‚      â”‚                 â”‚ â”‚
â”‚  â”‚ æ‰“å°æ—¥å¿— â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â†’â”‚ /var/log/       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚                 â”‚ â”‚
â”‚                        â”‚ Web UI :8888    â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ æºç           â”‚â†â”€â”€â”€â”€â”€â”¼â”€â”‚ ä»£ç åˆ†æ     â”‚ â”‚ â”‚
â”‚  â”‚ /app/source/ â”‚      â”‚ â”‚ æ—¥å¿—æŸ¥è¯¢     â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

AI åŠ©æ‰‹æä¾›çš„å·¥å…·ï¼š
- `read_file`ï¼šè¯»å–æºä»£ç æ–‡ä»¶
- `grep`ï¼šæœç´¢ä»£ç å†…å®¹
- `glob`ï¼šæŸ¥æ‰¾æ–‡ä»¶
- `read_logs`ï¼šæ ¹æ® RequestID æˆ–å…³é”®è¯æŸ¥è¯¢æ—¥å¿—

## é…ç½®é€‰é¡¹

```go
type Config struct {
    // æºç è·¯å¾„ï¼ˆå®¹å™¨å†…ï¼‰
    // é»˜è®¤ï¼š/app/source
    SourcePath string

    // æ—¥å¿—æ–‡ä»¶è·¯å¾„
    // ç•™ç©ºä¼šåœ¨å¯åŠ¨æ—¶è®© AI è‡ªåŠ¨åˆ†æä»£ç æ‰¾åˆ°æ—¥å¿—æ–‡ä»¶
    LogFiles []string

    // AI åŠ©æ‰‹ Web UI ç«¯å£
    // é»˜è®¤ï¼š8888
    Port int

    // Claude API Keyï¼ˆå¿…å¡«ï¼‰
    ClaudeAPIKey string

    // Claude æ¨¡å‹
    // é»˜è®¤ï¼šclaude-sonnet-4-5-20250929
    Model string
}
```

## æœ€ä½³å®è·µ

1. **æ—¥å¿—æ ¼å¼**ï¼šç¡®ä¿æ—¥å¿—åŒ…å« RequestIDï¼Œæ–¹ä¾¿è¿½è¸ª
2. **æºç ä½ç½®**ï¼šåœ¨ Dockerfile ä¸­å¤åˆ¶æºç åˆ° `/app/source`
3. **API Key å®‰å…¨**ï¼šé€šè¿‡ç¯å¢ƒå˜é‡ä¼ é€’ï¼Œä¸è¦ç¡¬ç¼–ç 
4. **ä»…å¼€å‘/æµ‹è¯•ç¯å¢ƒ**ï¼šMVP ç‰ˆæœ¬æ— è®¤è¯ï¼Œä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨

## å¸¸è§é—®é¢˜

**Q: AI åŠ©æ‰‹æ‰¾ä¸åˆ°æ—¥å¿—æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ**

A: æ‰‹åŠ¨æŒ‡å®š `LogFiles` é…ç½®é¡¹ï¼Œæˆ–åœ¨ä»£ç ä¸­æ˜ç¡®é…ç½®æ—¥å¿—è·¯å¾„ã€‚

**Q: æ”¯æŒå“ªäº›æ—¥å¿—æ ¼å¼ï¼Ÿ**

A: æ”¯æŒæ–‡æœ¬æ—¥å¿—å’Œ JSON æ—¥å¿—ï¼ŒAI ä¼šè‡ªåŠ¨è¯†åˆ«å’Œè§£æã€‚

**Q: å¦‚ä½•åœ¨ Kubernetes ä¸­ä½¿ç”¨ï¼Ÿ**

A: ç¡®ä¿åœ¨ Deployment ä¸­æš´éœ² 8888 ç«¯å£ï¼Œå¹¶é€šè¿‡ Secret ä¼ é€’ API Keyã€‚

**Q: ä¼šæš´éœ²æºä»£ç å—ï¼Ÿ**

A: MVP ç‰ˆæœ¬æ— è®¤è¯ï¼Œåªå»ºè®®åœ¨å¼€å‘/æµ‹è¯•ç¯å¢ƒä½¿ç”¨ã€‚ç”Ÿäº§ç¯å¢ƒéœ€è¦é¢å¤–çš„å®‰å…¨æ§åˆ¶ã€‚

## æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šGo 1.21+
- **AI**ï¼šClaude API (Sonnet 4.5)
- **WebSocket**ï¼šgorilla/websocket
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JavaScript

## è·¯çº¿å›¾

MVP (å½“å‰ç‰ˆæœ¬):
- âœ… åŸºç¡€ AI å¯¹è¯åŠŸèƒ½
- âœ… ä»£ç å’Œæ—¥å¿—åˆ†æ
- âœ… ç®€å• Web UI

æœªæ¥è®¡åˆ’:
- [ ] è®¤è¯å’Œæƒé™æ§åˆ¶
- [ ] ä»£ç  embedding å’Œè¯­ä¹‰æœç´¢
- [ ] è°ƒç”¨æ ˆè¿½è¸ª
- [ ] æ”¯æŒæ›´å¤šè¯­è¨€ï¼ˆPython, Node.js ç­‰ï¼‰
- [ ] æ›´å¼ºå¤§çš„å‰ç«¯ç•Œé¢

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License

## è‡´è°¢

æœ¬é¡¹ç›®çµæ„Ÿæ¥æºäº Claude Code å’Œç°ä»£ AI è¾…åŠ©å¼€å‘å·¥å…·ã€‚
